{
  "id": "AFA7D54D-537B-4DC8-B60A-E0EEEA2C9A87",
  "name": "HelmDeploy",
  "friendlyName": "ms-resource:loc.friendlyName",
  "description": "ms-resource:loc.description",
  "helpMarkDown": "ms-resource:loc.helpMarkDown",
  "category": "Deploy",
  "visibility": [
    "Build",
    "Release"
  ],
  "author": "Microsoft Corporation",
  "version": {
    "Major": 0,
    "Minor": 1,
    "Patch": 3
  },
  "demands": [],
  "preview": "true",
  "groups": [
    {
      "name": "cluster",
      "displayName": "ms-resource:loc.group.displayName.cluster",
      "isExpanded": true
    },
    {
      "name": "commands",
      "displayName": "ms-resource:loc.group.displayName.commands",
      "isExpanded": false
    },
    {
      "name": "advanced",
      "displayName": "ms-resource:loc.group.displayName.advanced",
      "isExpanded": false
    }
  ],
  "inputs": [
    {
      "name": "connectionType",
      "type": "pickList",
      "label": "ms-resource:loc.input.label.connectionType",
      "defaultValue": "Azure Resource Manager",
      "required": true,
      "options": {
        "Azure Resource Manager": "Azure Resource Manager",
        "Kubernetes Service Connection": "Kubernetes Service Connection"
      },
      "helpMarkDown": "ms-resource:loc.input.help.connectionType",
      "groupName": "cluster"
    },
    {
      "name": "azureSubscriptionEndpoint",
      "aliases": [
        "azureSubscription"
      ],
      "type": "connectedService:AzureRM",
      "label": "ms-resource:loc.input.label.azureSubscriptionEndpoint",
      "helpMarkDown": "ms-resource:loc.input.help.azureSubscriptionEndpoint",
      "visibleRule": "connectionType = Azure Resource Manager",
      "defaultValue": "",
      "required": true,
      "groupName": "cluster"
    },
    {
      "name": "kubernetesCluster",
      "label": "ms-resource:loc.input.label.kubernetesCluster",
      "type": "pickList",
      "helpMarkDown": "ms-resource:loc.input.help.kubernetesCluster",
      "visibleRule": "connectionType = Azure Resource Manager",
      "defaultValue": "",
      "required": true,
      "groupName": "cluster"
    },
    {
      "name": "kubernetesServiceEndpoint",
      "aliases": [
        "kubernetesServiceConnection"
      ],
      "type": "connectedService:kubernetes",
      "label": "ms-resource:loc.input.label.kubernetesServiceEndpoint",
      "helpMarkDown": "ms-resource:loc.input.help.kubernetesServiceEndpoint",
      "visibleRule": "connectionType = Kubernetes Service Connection",
      "required": true,
      "groupName": "cluster"
    },
    {
      "name": "namespace",
      "label": "ms-resource:loc.input.label.namespace",
      "type": "string",
      "helpMarkDown": "ms-resource:loc.input.help.namespace",
      "defaultValue": "",
      "groupName": "cluster"
    },
    {
      "name": "command",
      "type": "pickList",
      "label": "ms-resource:loc.input.label.command",
      "defaultValue": "ls",
      "required": true,
      "options": {
        "create": "create",
        "delete": "delete",
        "expose": "expose",
        "get": "get",
        "init": "init",
        "install": "install",
        "ls": "ls",
        "rollback": "rollback",
        "upgrade": "upgrade"
      },
      "helpMarkDown": "ms-resource:loc.input.help.command",
      "groupName": "commands",
      "properties": {
        "EditableOptions": "True"
      }
    },
    {
      "name": "chart",
      "label": "ms-resource:loc.input.label.chart",
      "type": "string",
      "helpMarkDown": "ms-resource:loc.input.help.chart",
      "defaultValue": "",
      "visibleRule": "command = install",
      "groupName": "commands"
    },
    {
      "name": "version",
      "label": "ms-resource:loc.input.label.version",
      "type": "string",
      "helpMarkDown": "ms-resource:loc.input.help.version",
      "defaultValue": "",
      "visibleRule": "command = install",
      "groupName": "commands"
    },
    {
      "name": "releaseName",
      "label": "ms-resource:loc.input.label.releaseName",
      "type": "string",
      "helpMarkDown": "ms-resource:loc.input.help.releaseName",
      "defaultValue": "",
      "visibleRule": "command = install",
      "groupName": "commands"
    },
    {
      "name": "overrideValues",
      "label": "ms-resource:loc.input.label.overrideValues",
      "type": "string",
      "helpMarkDown": "ms-resource:loc.input.help.overrideValues",
      "defaultValue": "",
      "visibleRule": "command = install",
      "groupName": "commands"
    },
    {
      "name": "canaryimage",
      "type": "boolean",
      "label": "ms-resource:loc.input.label.canaryimage",
      "defaultValue": "false",
      "helpMarkDown": "ms-resource:loc.input.help.canaryimage",
      "visibleRule": "command = init",
      "groupName": "commands"
    },
    {
      "name": "upgradetiller",
      "type": "boolean",
      "label": "ms-resource:loc.input.label.upgradetiller",
      "defaultValue": "true",
      "helpMarkDown": "ms-resource:loc.input.help.upgradetiller",
      "visibleRule": "command = init",
      "groupName": "commands"
    },
    {
      "name": "updatedependency",
      "type": "boolean",
      "label": "ms-resource:loc.input.label.updatedependency",
      "defaultValue": "false",
      "helpMarkDown": "ms-resource:loc.input.help.updatedependency",
      "visibleRule": "command = install",
      "groupName": "commands"
    },
    {
      "name": "waitForExecution",
      "type": "boolean",
      "label": "ms-resource:loc.input.label.waitForExecution",
      "defaultValue": "true",
      "helpMarkDown": "ms-resource:loc.input.help.waitForExecution",
      "visibleRule": "command = init || command = install",
      "groupName": "commands"
    },
    {
      "name": "arguments",
      "type": "multiLine",
      "properties": {
        "resizable": "true",
        "rows": "2"
      },
      "label": "ms-resource:loc.input.label.arguments",
      "helpMarkDown": "ms-resource:loc.input.help.arguments",
      "groupName": "commands"
    },
    {
      "name": "tillernamespace",
      "label": "ms-resource:loc.input.label.tillernamespace",
      "helpMarkDown": "ms-resource:loc.input.help.tillernamespace",
      "type": "string",
      "groupName": "advanced"
    }
  ],
  "dataSourceBindings": [
    {
      "target": "kubernetesCluster",
      "endpointId": "$(azureSubscriptionEndpoint)",
      "endpointUrl": "{{{endpoint.url}}}/subscriptions/{{{endpoint.subscriptionId}}}/providers/Microsoft.ContainerService/managedClusters?api-version=2017-08-31",
      "resultSelector": "jsonpath:$.value[*]",
      "resultTemplate": "{{{name}}}"
    }
  ],
  "instanceNameFormat": "ms-resource:loc.instanceNameFormat",
  "execution": {
    "Node": {
      "target": "src//helm.js"
    }
  },
  "messages": {
    "HelmNotFound": "ms-resource:loc.messages.HelmNotFound",
    "KubernetesNotFound": "ms-resource:loc.messages.KubernetesNotFound",
    "CantDownloadAccessProfile": "ms-resource:loc.messages.CantDownloadAccessProfile",
    "KubeConfigFilePath": "ms-resource:loc.messages.KubeConfigFilePath",
    "KubernetesClusterInfo": "ms-resource:loc.messages.KubernetesClusterInfo",
    "KubernetesClusterResourceGroup": "ms-resource:loc.messages.KubernetesClusterResourceGroup",
    "ClusterNotProvisioned": "ms-resource:loc.messages.ClusterNotProvisioned",
    "ClusterNotFound": "ms-resource:loc.messages.ClusterNotFound",
    "FailedToListClusters": "ms-resource:loc.messages.FailedToListClusters",
    "RetryingRequest": "ms-resource:loc.messages.RetryingRequest"
  }
}
