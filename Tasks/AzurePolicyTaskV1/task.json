{
    "id": "a61ac698-2804-493b-a44d-320cab14d2c5",
    "name": "AzurePolicyTask",
    "friendlyName": "Azure policy Task",
    "description": "Adds policy over management group",
    "author": "Microsoft Corporation",
    "helpMarkDown": "More Information here",
    "category": "Deploy",
    "visibility": [
        "Build",
        "Release"
    ],
    "runsOn": [
        "Agent",
        "DeploymentGroup"
    ],
    "demands": [],
    "version": {
        "Major": 0,
        "Minor": 0,
        "Patch": 52
    },
    "instanceNameFormat": "Assign Azure Policy",
    "groups": [],
    "inputs": [
        {
            "name": "ConnectedServiceName",
            "aliases": ["azureSubscription"],
            "type": "connectedService:AzureRM",
            "label": "Azure subscription",
            "defaultValue": "",
            "required": true,
            "helpMarkDown": "Select the Azure Resource Manager subscription"
        },
        {
            "name": "Action",
            "type": "pickList",
            "label": "Action",
            "required": true,
            "helpMarkDown": "Action to be performed on the App Service. You can Start, Stop, Restart, Slot swap, Install site extensions or enable Continuous Monitoring for an Azure App Service",
            "defaultValue": "List Policy",
            "options": {
                "List Policy": "List Policy",
                "Create Policy": "Create Policy"
            }
        },
        {
            "name": "ScriptLocation",
            "type": "pickList",
            "label": "Script Location",
            "required": true,
            "helpMarkDown": "Location of the script",
            "defaultValue": "Script Path",
            "visibleRule": "Action = Create Policy",
            "options": {
                "Script Path": "Script Path",
                "Upload script": "Upload script"
            }
        },
        {
            "name": "ScriptPath",
            "aliases": ["packageForLinux"],
            "type": "filePath",
            "label": "Script path",
            "defaultValue": "$(System.DefaultWorkingDirectory)/**/*.zip",
            "required": true,
            "visibleRule": "Action = Create Policy && ScriptLocation = Script Path",
            "helpMarkDown": "File path to the package or a folder containing app service contents generated by MSBuild or a compressed zip or war file.<br />Variables ( [Build](https://www.visualstudio.com/docs/build/define/variables) | [Release](https://www.visualstudio.com/docs/release/author-release-definition/understanding-tasks#predefvariables)), wild cards are supported. <br/> For example, $(System.DefaultWorkingDirectory)/\\*\\*/\\*.zip or $(System.DefaultWorkingDirectory)/\\*\\*/\\*.war."
        },
         {
          "name": "Arguments",
          "type": "string",
          "label": "Arguments",
          "defaultValue": "",
          "required": false,
          "visibleRule": "Action = Create Policy",
          "helpMarkDown": "Arguments for the policy"
        },
        {
          "name": "PolicyName",
          "type": "string",
          "label": "Policy Name",
          "defaultValue": "",
          "required": true,
          "visibleRule": "Action = Create Policy",
          "helpMarkDown": "Give a name for your policy"
        }
    ],
    "outputVariables": [
        {
            "name": "LocalPathsForInstalledExtensions",
            "description": "The local installation paths for the selected extensions for installation. <br/>Note: In case multiple extensions are selected for installation, the output is a comma separated list of local paths for each of the selected extension in the order they appear in the Install Extensions field."
        }
    ],
    "dataSourceBindings": [
    ],
    "execution": {
        "Node": {
            "target": "azurepolicymanage.js"
        }
    },
    "messages": {
        
    }
}