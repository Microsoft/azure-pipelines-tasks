{
  "id": "4B506F7F-720F-47BB-BF21-029BAC6A690D",
  "name": "SqlDacpacDeploymentOnMachineGroup",
  "friendlyName": "ms-resource:loc.friendlyName",
  "description": "ms-resource:loc.description",
  "helpMarkDown": "ms-resource:loc.helpMarkDown",
  "category": "Deploy",
  "visibility": [
    "Preview",
    "Release"
  ],
  "runsOn": [
    "MachineGroup"
  ],
  "author": "Microsoft Corporation",
  "version": {
    "Major": 0,
    "Minor": 1,
    "Patch": 1
  },
  "demands": [],
  "minimumAgentVersion": "1.102.0",
  "groups": [
    {
      "name": "target",
      "displayName": "ms-resource:loc.group.displayName.target",
      "isExpanded": true
    },
    {
      "name": "taskDetails",
      "displayName": "ms-resource:loc.group.displayName.taskDetails",
      "isExpanded": true
    }
  ],
  "inputs": [
    {
      "name": "DatabaseName",
      "type": "string",
      "label": "ms-resource:loc.input.label.DatabaseName",
      "required": true,
      "groupName": "target",
      "defaultValue": "",
      "helpMarkDown": "ms-resource:loc.input.help.DatabaseName"
    },
    {
      "name": "AuthScheme",
      "type": "pickList",
      "label": "ms-resource:loc.input.label.AuthScheme",
      "required": true,
      "groupName": "target",
      "defaultValue": "Windows Authentication",
      "options": {
        "windowsAuthentication": "Windows Authentication",
        "sqlServerAuthentication": "SQL Server Authentication"
      },
      "helpMarkDown": "ms-resource:loc.input.help.AuthScheme"
    },
    {
      "name": "SqlUsername",
      "type": "string",
      "label": "ms-resource:loc.input.label.SqlUsername",
      "required": true,
      "groupName": "target",
      "defaultValue": "",
      "visibleRule": "AuthScheme = sqlServerAuthentication",
      "helpMarkDown": "ms-resource:loc.input.help.SqlUsername"
    },
    {
      "name": "SqlPassword",
      "type": "string",
      "label": "ms-resource:loc.input.label.SqlPassword",
      "required": true,
      "groupName": "target",
      "defaultValue": "",
      "visibleRule": "AuthScheme = sqlServerAuthentication",
      "helpMarkDown": "ms-resource:loc.input.help.SqlPassword"
    },
    {
      "name": "TaskType",
      "type": "pickList",
      "label": "ms-resource:loc.input.label.TaskType",
      "required": true,
      "groupName": "taskDetails",
      "defaultValue": "dacpac",
      "options": {
        "dacpac": "Sql Dacpac",
        "sqlQuery": "Sql Query File",
        "sqlInline": "Inline Sql"
      },
      "helpMarkDown": "ms-resource:loc.input.help.TaskType"
    },
    {
      "name": "DacpacFile",
      "type": "string",
      "label": "ms-resource:loc.input.label.DacpacFile",
      "required": true,
      "groupName": "taskDetails",
      "visibleRule": "TaskType = dacpac",
      "defaultValue": "",
      "helpMarkDown": "ms-resource:loc.input.help.DacpacFile"
    },
    {
      "name": "SqlFile",
      "type": "string",
      "label": "ms-resource:loc.input.label.SqlFile",
      "required": true,
      "groupName": "taskDetails",
      "visibleRule": "TaskType = sqlQuery",
      "defaultValue": "",
      "helpMarkDown": "ms-resource:loc.input.help.SqlFile"
    },
    {
      "name": "InlineSql",
      "type": "multiLine",
      "label": "ms-resource:loc.input.label.InlineSql",
      "required": true,
      "groupName": "taskDetails",
      "visibleRule": "TaskType = sqlInline",
      "defaultValue": "",
      "properties": {
        "resizable": "true",
        "rows": "10"
      },
      "helpMarkDown": "ms-resource:loc.input.help.InlineSql"
    },
    {
      "name": "TargetMethod",
      "type": "pickList",
      "label": "ms-resource:loc.input.label.TargetMethod",
      "required": true,
      "groupName": "taskDetails",
      "defaultValue": "server",
      "visibleRule": "TaskType = dacpac",
      "options": {
        "server": "Server",
        "connectionString": "Connection String",
        "publishProfile": "Publish Profile"
      },
      "helpMarkDown": "ms-resource:loc.input.help.TargetMethod"
    },
    {
      "name": "ConnectionString",
      "type": "multiLine",
      "label": "ms-resource:loc.input.label.ConnectionString",
      "required": true,
      "groupName": "taskDetails",
      "defaultValue": "",
      "visibleRule": "TargetMethod = connectionString",
      "helpMarkDown": "ms-resource:loc.input.help.ConnectionString"
    },
    {
      "name": "PublishProfile",
      "type": "string",
      "label": "ms-resource:loc.input.label.PublishProfile",
      "required": false,
      "groupName": "taskDetails",
      "defaultValue": "",
      "visibleRule": "TaskType = dacpac",
      "helpMarkDown": "ms-resource:loc.input.help.PublishProfile"
    },
    {
      "name": "AdditionalArguments",
      "type": "multiLine",
      "label": "ms-resource:loc.input.label.AdditionalArguments",
      "required": false,
      "groupName": "taskDetails",
      "defaultValue": "",
      "visibleRule": "TaskType = dacpac",
      "helpMarkDown": "ms-resource:loc.input.help.AdditionalArguments"
    },
    {
      "name": "AdditionalArgumentsSql",
      "type": "multiLine",
      "label": "ms-resource:loc.input.label.AdditionalArgumentsSql",
      "required": false,
      "groupName": "taskDetails",
      "defaultValue": "",
      "visibleRule": "TaskType = sqlQuery || TaskType = sqlInline",
      "helpMarkDown": "ms-resource:loc.input.help.AdditionalArgumentsSql"
    }
  ],
  "instanceNameFormat": "ms-resource:loc.instanceNameFormat",
  "execution": {
    "PowerShell3": {
      "target": "$(currentDirectory)\\Main.ps1"
    }
  },
  "messages": {
    "SQLPowershellModuleisnotinstalledonyouragentmachine": "ms-resource:loc.messages.SQLPowershellModuleisnotinstalledonyouragentmachine",
    "InstallPowershellToolsharedManagementObjectsdependency": "ms-resource:loc.messages.InstallPowershellToolsharedManagementObjectsdependency",
    "RestartagentmachineafterinstallingtoolstoregisterModulepathupdates": "ms-resource:loc.messages.RestartagentmachineafterinstallingtoolstoregisterModulepathupdates",
    "RunImportModuleSQLPSonyouragentPowershellprompt": "ms-resource:loc.messages.RunImportModuleSQLPSonyouragentPowershellprompt"
  }
}